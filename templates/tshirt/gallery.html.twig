{% extends 'base.html.twig' %}

{% block title %}T-shirts {{ controller_name }} | {{ parent() }}{% endblock %}

{% block body %}
{{ dump(colors) }}
<!-- //////////////////////// CONTENU DE LA PAGE ////////////////////////// -->
<section class="container-fluid px-0 produit_gallery pb-3">
    <!-- Bandeau Noel -->
    <section class="row filter_bandeau d-flex justify-content-center align-items-center mx-0">
            <a href="{{ path('promos', {product_type: 'tshirt', genderEN: 'man', color_id: '3' }) }}" class="lead mb-0 promo-slogan d-flex text-center py-3">
                <i class="fas fa-holly-berry px-3 text-success d-flex align-items-center"></i>
                <span class=" text-warning">Profite de notre sélection de produits 
                    <span class="slogan_slide text-uppercase font-weight-bold text-white">Spéciale Noël</span>
                </span>
                <i class="fas fa-holly-berry px-3 text-success d-flex align-items-center"></i>
            </a>
    </section>

    <!-- Titre de la page -->
    <div class="container text-center pt-5 pb-2 position-relative">
        <div class="row mx-0 d-flex justify-content-between">

            <div class="row w-100 mx-0 px-0">

                <!-- Titre -->
                <div class="col-xs-12 col-sm-6 pb-4">
                    <div class="col-12 pb-2 pl-0 text-center text-md-left">                   
                        <h2>
                            T-shirts <span class="text-bleu">{{ controller_name }}</span>
                        </h2>
                    </div>
                    <div class="col-xs-12 col-sm-12 d-flex justify-content-center justify-content-sm-start">                                    
                        <div class="separator_gallery mx-0"></div>
                    </div>
                </div>

                <!-- selecteur de motifs -->
                <div class="col-xs-12 col-sm-3 ">
                    <div class="form-group d-flex align-items-center justify-content-center justify-content-md-end">
                        <div class="d-block text-secondary pr-3">
                            <label for="color">Trier par motif : </label>
                        </div>
                        <div class="d-block">
                            <select class="form-control text-white bg-secondary"  name="color" onChange="location = this.options[this.selectedIndex].value;">

                                {# <option 
                                    value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: '1' }) }}"
                                    {% if color_id == '1' %}selected{% endif %}> bleu
                                </option>  #}
                                    
                            </select>
                        </div>
                    </div>
                </div>
    

                <!-- Selecteur de couleurs -->
                <div class="col-xs-12 col-sm-3 ">
                    <div class="form-group d-flex align-items-center justify-content-center justify-content-md-end">
                        <div class="d-block text-secondary pr-3">
                            <label for="color">Trier par couleur : </label>
                        </div>
                        <div class="d-block">
                            <select class="form-control text-white bg-secondary"  name="color" onChange="location = this.options[this.selectedIndex].value;">
                                    <option 
                                        value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: 0 , logo_id: 0}) }}"
                                        {% if color_id == '1' %}selected{% endif %}> Tous
                                    </option>
                                    <option 
                                        value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: 1 , logo_id: 0}) }}"
                                        {% if color_id == '1' %}selected{% endif %}> bleu
                                    </option>
                                    <option 
                                        value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: 2 , logo_id: 0}) }}"
                                        {% if color_id == '2' %}selected{% endif %}> jaune
                                    </option>
                                    <option 
                                        value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: 3 , logo_id: 0 }) }}"
                                        {% if color_id == '3' %}selected{% endif %}> vert 
                                    </option>
                                    <option 
                                        value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: 4 , logo_id: 0 }) }}"
                                        {% if color_id == '4' %}selected{% endif %}> rouge
                                    </option>
                                    <option 
                                        value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: 5 , logo_id: 0 }) }}"
                                        {% if color_id == '5' %}selected{% endif %}> noir
                                    </option>
                                    <option 
                                        value ="{{ path('gallery', {product_type: 'tshirt', genderEN: 'man', color_id: 6 , logo_id: 0 }) }}"
                                        {% if color_id == '6' %}selected{% endif %}> violet
                                    </option>
                            </select>
                        </div>
                    </div>
                </div>

            </div>
            
            <!-- Gallerie -->
            <section class="row mb-4">

                {% for product in products %}

                    <!-- Produit xx -->
                    <div class="card col-12 col-sm-6 col-md-4 col-lg-3 rounded-0 border-0 ">
                        <div class="encart_visuel w-100 position-relative bg-dark d-flex justify-content-center p-0">
                            <a href="{{ path('tshirtdetail', {product_type: product_type, genderEN: genderEN, color_id: product.color_id, logo_id: product.logo_id }) }}" class="produit_link position-relative w-100 d-flex hidden-visuel align-items-center" style="background-color:{{ product.color_hexa }};">
                                <!-- Visuel Produit -->
                                <img class="card-img-top rounded-0 w-100" src="{{ asset('assets/images/motifs/' ~ product.slug ~ '.png') }}"
                                    alt="Image du motif {{ product.slug }}">
                                <div class="overlay" style="background-color:{{ product.color_hexa }};">
                                    <img class="card-img-top rounded-0 w-100" src="{{ asset('assets/images/' ~ genderEN ~ '/tshirt_' ~ genderEN ~ '_' ~ product.slug ~ '.png') }}"
                                        alt="Image du t-shirt {{ product.slug }}" />
                                </div>
                            </a>
                        </div>
                        <!-- Infos produit -->
                        <div class="card-body px-0">
                            <h3 class="title_produit_gallery">{{ product.logo_name }}</h3>
                            <h5 class="price_gallery pb-2">{{ product.price_unit_ttc }} €</h5>
                        </div>
                    </div>

                {% endfor %}
    
                </section>
    
                <!-- controllers -->
                <div class="container d-flex justify-content-end">
                   <!-- controllers -->
                    <div class=" col-xs-12 col-sm-4">   
                        <nav aria-label="controller-produit py-0">
                            <ul class="pagination d-flex justify-content-center justify-content-md-end">
                                <li class="page-item">
                                    <a class="page-link" href="#" aria-label="Previous">
                                        <span aria-hidden="true">&laquo; Précédent</span>
                                        <span class="sr-only">Précédent</span>
                                    </a>
                                </li>
                                <li>
                                    <a class="page-link" href="#" aria-label="Next">
                                        <span aria-hidden="true">Suivant &raquo;</span>
                                        <span class="sr-only">Suivant</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div> 
                </div>
            
        </div>
    </div>

</section>


{% endblock %}