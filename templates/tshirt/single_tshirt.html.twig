{% extends 'base.html.twig' %}

{% block title %}{{ controller_name }} | {{ parent() }}{% endblock %}

{% block body %}

<!-- Bandeau Noel -->
<section class="row filter_bandeau d-flex justify-content-center align-items-center mx-0">
        <a href="{{ path('promos', {product_type: 'tshirt', genderEN: 'man', color_id: '3' }) }}" class="lead mb-0 promo-slogan d-flex text-center py-3">
            <i class="fas fa-holly-berry px-3 text-success d-flex align-items-center"></i>
            <span class=" text-warning">Profite de notre sélection de produits 
                <span class="slogan_slide text-uppercase font-weight-bold text-white">Spéciale Noël</span>
            </span>
            <i class="fas fa-holly-berry px-3 text-success d-flex align-items-center"></i>
        </a>
</section>

<div class="container mt-5">

    <div class="row">
        <div class="col-12">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-transparent">
                    <li class="breadcrumb-item"><a href="{{ path('home') }}">Accueil</a></li>
                    <li class="breadcrumb-item"><a href="{{ path('gallery', {product_type: product_type, genderEN: genderEN ,color_id: color_id}) }}">{{ controller_name }}</a></li>
                    <li class="breadcrumb-item active" aria-current="page">{{ product.logo_name }}</li>
                </ol>
            </nav>
        </div>
    </div>

<div class="row">

    <div class="col-sm-12 col-md-6 big-encart">
        <!-- image en grand -->
        <div class="show_tshirt w-100 position-relative d-flex justify-content-start p-0">

            <div class="position-relative">
                <div id="motif-visuel">
                    <img src="{{ path('manvisual') }}" class="tshirt-visuel-home">
                </div>
                <!-- petit logo -->
                <div class="min_logo position-absolute" style="background-color:{{ product.color_hexa }};">
                    <div class="h-100 align-items-center d-flex">
                        <img src="{{ asset('assets/images/motifs/' ~ product.slug ~ '.png') }}" class="w-100">
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="col-sm-12 col-md-6">
        <!-- Titre du logo -->
        <div class="col-12 px-0">
            <h2 class="text-uppercase">{{product.logo_name}}</h2>
        </div>

        <!-- Couleurs -->
        <div class="ligne"></div>
        <hr>
        <div class="col-12 px-0">
            <h5 class="py-2">Couleurs</h5>
                <div class="d-none d-block">
                    <div class="row mx-0 d-flex flex-wrap">

                        {% for color in colors %}

                            <div class="col d-flex justify-content-center align-items-center mt-1">
                                <a href="{{ path('tshirtdetail', {product_type: product_type, genderEN: genderEN, color_id: color.id, logo_id: logo_id }) }}" 
                                class="rounded-circle border border-white d-flex justify-content-center align-items-center" 
                                style="background-color:{ color.color_hexa }; width:2.5rem; height:2.5rem;"></a>
                            </div>

                        {% endfor %}

                    </div>
                </div>

                <hr>

                <div class="col-12 px-0">
                    <h5 class="py-2">Tailles</h5>
            
                    <div class="form-group d-flex align-items-center d-block d-none">
                        <label for="color"></label>
                        <select class="form-control" id="sizes" name="sizes">

                            {% for size in sizes %}
                                <option value= "{{size.id}}">{{size.wording}}</option>
                            {% endfor %}

                        </select>
                    </div>

                </div>
        </div>

        <hr>
        <!-- Quantité -->
        <div class="row d-flex justify-content-between m-0 py-2">
            <div class="form-group d-flex align-items-center">
                <h5 class="m-0">
                    <label for="quantity">Quantité</label>
                </h5>
                <select class="form-control ml-3" id="quantity" name="quantity">

                    {% for qty in 1..10 %}
                        <option value= "{{qty}}">{{qty}}</option>
                    {% endfor %}

                </select>
            </div>
            <a href="#image_taille" class="js-scrollTo">Guide des tailles</a>
        </div>
        <div class="price_detail pb-3">
            <p class="price display-4 mb-1 text-danger"><strong>{{product.price_unit_ttc}} €</strong><span class="text-black-50 pl-2 ttc">TTC</span></p>
        </div>
        <div class="row">
            <div class="col">
                <button type="button" class="btn btn-info"><a href= "{{ path('basket') }}">
                    <span class="pr-2 text-light">Ajouter au panier</span>
                    <img src="{{ asset( 'assets/images/icones/panier-blanc.svg' ) }}" class="h-100 panier_mobile" alt="Icone de panier d'achat"></a>
                </button>
            </div>
            <div class="col text-right">
                <p class="color_facebook">
                    <iframe src="https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fwww.facebook.com%2FDevmyshirts-592002044553765%2F&layout=button&size=large&mobile_iframe=true&width=89&height=28&appId" 
                    width="89" height="28" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true" allow="encrypted-media"></iframe></a>
                    </a>
                </p>
            </div>
        </div>
        <hr>
        <div class="garantie mb-5">
            <p>Garantie satisfaction & livraison</p>
        </div>
    </div>
</div>

<!-- //////////////////////// GALLERIE NOUVEAUTES PRODUITS ////////////////////////// -->
<section class="container-fluid position-relative px-0 pb-3">
    <div class="container text-center pt-3 pb-5 px-0 position-relative">

        <!-- Titre de la section -->
        <div class="row mb-5">
            <div class="col-12 pb-2">
                <h2>
                    À voir <span class="text-bleu">également</span>
                </h2>
            </div>
            <div class="col-12">
                <div class="separator mx-auto"></div>
            </div>
        </div>

        <!-- Gallerie -->
        <section class="row mb-4">

            {% for productRand in productsRand %}
            <!-- Produit n/4 -->
            <div class="card col-12 col-sm-6 col-md-4 col-lg-3 rounded-0 border-0">
                <div class="encart_visuel w-100 position-relative d-flex justify-content-center p-0">
                    <a href="{{ path('tshirtdetail', {product_type: product_type, genderEN: genderEN, color_id: productRand.color_id, logo_id: productRand.logo_id}) }}" 
                        class="produit_link position-relative w-100 d-flex align-items-center" style="background-color:{{ productRand.color_hexa }};">
                        <!-- Visuel Produit -->
                        <img class="card-img-top rounded-0 w-100" src="{{ asset('assets/images/motifs/' ~ productRand.slug ~ '.png') }}"
                            alt="Image du motif {{productRand.slug}}">
                        <div class="overlay" style="background-color:{{ productRand.color_hexa }};">
                            <img class="card-img-top rounded-0 w-100" src="{{ asset('assets/images/' ~ genderEN ~ '/' ~ product_type ~ '_' ~ genderEN ~ '_' ~ productRand.slug ~ '.png') }}"
                                alt="Image du t-shirt {{productRand.slug}}" />
                        </div>
                    </a>
                </div>
                <!-- Infos produit -->
                <div class="card-body">
                    <h3 class="title_produit_gallery">{{productRand.slug}}</h3>
                    <h5 class="price_gallery pt-2">{{productRand.price_unit_ttc}} €</h5>
                </div>
            </div>
            {% endfor %}
            
        </section>

    </div>
</section>

       
    <div class="row">
        <div class="col-md-6 mb-5">
                <img id="image_taille" class="taille img-fluid w-100 h-100" 
                src="{{ asset('./assets/images/' ~ genderEN ~ '/tableau_mesure_' ~ genderEN ~ '.jpg') }}" alt="taille tshirt">
        </div>
        <div class="col-md-6">
            <h3>Détails du produit</h3>
                <p> T-shirt<br>
                    Un classique sans compromis : vous allez adorer ce T-shirt simple et classique. Un basique à porter en toutes occasions.<br>
                    Finitions haut de gamme avec doubles coutures<br>
                    Coupe droite<br>
                    Tissu résistant : 185 g/m²<br>
                    Composition : 100 % coton (sauf en gris chiné : 85 % coton, 15 % viscose)<br>
                </p>
        </div>
    </div>

</div>

{% endblock %}